import{r as t,h as i,H as s,g as e,c as r}from"./p-0f2172a6.js";var a,o=new Uint8Array(16);function n(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}const h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function d(t){return"string"==typeof t&&h.test(t)}for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));function f(t,i,s){var e=(t=t||{}).random||(t.rng||n)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,i){s=s||0;for(var r=0;r<16;++r)i[s+r]=e[r];return i}return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(l[t[i+0]]+l[t[i+1]]+l[t[i+2]]+l[t[i+3]]+"-"+l[t[i+4]]+l[t[i+5]]+"-"+l[t[i+6]]+l[t[i+7]]+"-"+l[t[i+8]]+l[t[i+9]]+"-"+l[t[i+10]]+l[t[i+11]]+l[t[i+12]]+l[t[i+13]]+l[t[i+14]]+l[t[i+15]]).toLowerCase();if(!d(s))throw TypeError("Stringified UUID is invalid");return s}(e)}const p=class{constructor(i){t(this,i),this.uuid=f(),this.activeSlide=0,this.prevArrowInnerHTML="←",this.nextArrowInnerHTML="→"}componentWillLoad(){this.slideCount=this.root.children.length}componentDidLoad(){try{this.applyActiveSlideChanges(this.activeSlide)}catch(t){console.error("safety-slider: no content has been provided in the slot.")}}onSafetySliderDotClick(t){this.setActiveSlide(t.detail)}async setActiveSlide(t){try{this.applyActiveSlideChanges(t)}catch(t){console.error(t)}}applyActiveSlideChanges(t){if(t<0||t>=this.slideCount)throw"safety-slider: newActiveSlide index is out of range.";this.activeSlide=t}render(){return i(s,{class:"safety-slider",id:"ss-"+this.uuid},i("safety-slider-window",{activeSlide:this.activeSlide,isInfinite:this.isInfinite,uuid:this.uuid},i("slot",null)),this.slideCount>1&&!this.hasNoArrows&&i("safety-slider-arrows",{slideCount:this.slideCount,activeSlide:this.activeSlide,prevArrowInnerHTML:this.prevArrowInnerHTML,nextArrowInnerHTML:this.nextArrowInnerHTML,isInfinite:this.isInfinite,prevAriaLabel:this.prevArrowAriaLabel,nextAriaLabel:this.nextArrowAriaLabel,uuid:this.uuid}),this.slideCount>1&&!this.hasNoDots&&i("safety-slider-dots",{activeDot:this.activeSlide,dotCount:this.slideCount,dotAriaLabel:this.dotAriaLabel,uuid:this.uuid}))}get root(){return e(this)}};p.style="safety-slider{display:block;position:relative;padding:0 3rem 2rem}safety-slider safety-slider-window{display:block}";const y=class{constructor(i){t(this,i),this.safetySliderNavigationClick=r(this,"safetySliderNavigationClick",7),this.slideCount=2,this.activeSlide=0,this.prevArrowInnerHTML="←",this.nextArrowInnerHTML="→",this.prevAriaLabel="Go to previous slide",this.nextAriaLabel="Go to next slide",this.prevArrowClick=()=>{this.safetySliderNavigationClick.emit(this.activeSlide-1>=0?this.activeSlide-1:this.slideCount-1)},this.nextArrowClick=()=>{this.safetySliderNavigationClick.emit(this.activeSlide+1<this.slideCount?this.activeSlide+1:0)}}render(){return i(s,null,i("button",{class:"safety-slider-arrow -prev",type:"button",disabled:!this.isInfinite&&0===this.activeSlide,innerHTML:this.prevArrowInnerHTML,onClick:this.prevArrowClick,"aria-label":this.prevAriaLabel,"aria-controls":"ssw-"+this.uuid}),i("button",{class:"safety-slider-arrow -next",type:"button",disabled:!this.isInfinite&&this.activeSlide===this.slideCount-1,innerHTML:this.nextArrowInnerHTML,onClick:this.nextArrowClick,"aria-label":this.nextAriaLabel,"aria-controls":"ssw-"+this.uuid}))}};y.style="safety-slider-arrows{width:100%;position:absolute;z-index:1;top:50%;left:0;transform:translateY(-50%);display:flex;justify-content:space-between}.safety-slider-arrow{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid black;background-color:white;padding:0;color:black;width:2rem;height:2rem;text-align:center;cursor:pointer}.safety-slider-arrow[disabled]{opacity:.5;cursor:not-allowed}";const u=class{constructor(i){t(this,i),this.safetySliderNavigationClick=r(this,"safetySliderNavigationClick",7),this.dotAriaLabel="Go to slide {0} of {1}",this.dotClick=t=>{const i=t.target.getAttribute("data-slide");this.safetySliderNavigationClick.emit(parseInt(i))}}componentWillRender(){this.dotButtons=[];for(let t=0;t<this.dotCount;t++)this.dotButtons.push(t)}getFormattedAriaLabel(t){return this.dotAriaLabel.replace("{0}",t.toString()).replace("{1}",this.dotCount.toString())}render(){return i(s,null,this.dotButtons.map((t=>i("button",{class:"safety-slider-dot",type:"button",disabled:t===this.activeDot,onClick:this.dotClick,"aria-label":this.getFormattedAriaLabel(t+1),"aria-controls":"ssw-"+this.uuid,"data-slide":t}))))}};u.style="safety-slider-dots{display:block;width:100%;height:1rem;position:absolute;z-index:1;left:0;bottom:.25rem;text-align:center}.safety-slider-dot{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background-color:black;padding:0;border-radius:50%;width:.5rem;height:.5rem;margin:auto .25rem 0;cursor:pointer}.safety-slider-dot[disabled]{opacity:.5;cursor:not-allowed}";const w=class{constructor(i){t(this,i),this.safetySliderInfiniteLoopAdjustment=r(this,"safetySliderInfiniteLoopAdjustment",7),this.safetySliderApplyTransitionDuration=r(this,"safetySliderApplyTransitionDuration",7),this.infiniteLoopToFront=!1,this.infiniteLoopToBack=!1,this.trackTransitionDuration=250,this.activeSlide=0,this.isInfinite=!1}activeSlideChanged(t,i){this.moveActiveSlideClass(t,i),this.setInfiniteLoopToFront(t,i),this.setInfiniteLoopToBack(t,i)}componentWillRender(){this.slidesOffset=this.calculateTrackOffset()}componentWillLoad(){var t,i,s;const e=Array.from(this.root.children);e.forEach((t=>t.classList.add("safety-slider-slide"))),null===(t=e[this.activeSlide])||void 0===t||t.classList.add("-active"),this.rootWidth=this.root.offsetWidth,this.slideCount=this.root.children.length,this.beginningClone=null===(i=this.root.children[this.slideCount-1])||void 0===i?void 0:i.outerHTML,this.endingClone=null===(s=this.root.children[0])||void 0===s?void 0:s.outerHTML}componentDidUpdate(){(this.infiniteLoopToFront||this.infiniteLoopToBack)&&setTimeout((()=>this.safetySliderInfiniteLoopAdjustment.emit()),this.trackTransitionDuration)}windowResizeHandler(){this.rootWidth=this.root.offsetWidth}infiniteLoopAdjustmentHandler(){this.setCSSProperty("--safety-slider-track-transition-duration","0ms"),this.setCSSProperty("--safety-slider-track-offset",this.rootWidth*(this.activeSlide+1)*-1+"px"),setTimeout((()=>this.safetySliderApplyTransitionDuration.emit()),this.trackTransitionDuration)}applyTransitionDurationHandler(){this.setCSSProperty("--safety-slider-track-transition-duration",`${this.trackTransitionDuration}ms`)}calculateTrackOffset(){return this.infiniteLoopToFront?this.rootWidth*(this.slideCount+1)*-1:this.infiniteLoopToBack?0:this.isInfinite?this.rootWidth*(this.activeSlide+1)*-1:this.rootWidth*this.activeSlide*-1}setCSSProperty(t,i){this.root.style.setProperty(t,i)}setInfiniteLoopToFront(t,i){this.infiniteLoopToFront=this.isInfinite&&0===t&&i===this.slideCount-1}setInfiniteLoopToBack(t,i){this.infiniteLoopToBack=this.isInfinite&&t===this.slideCount-1&&0===i}moveActiveSlideClass(t,i){this.trackElement.querySelectorAll(".safety-slider-slide")[i].classList.remove("-active"),this.trackElement.querySelectorAll(".safety-slider-slide")[t].classList.add("-active")}render(){return i(s,{id:"ssw-"+this.uuid,style:{"--safety-slider-window-width":this.rootWidth+"px","--safety-slider-track-offset":this.slidesOffset+"px","--safety-slider-track-transition-duration":this.trackTransitionDuration+"ms"}},i("div",{class:"safety-slider-track",ref:t=>this.trackElement=t},this.isInfinite&&this.slideCount>1&&i("div",{class:"safety-slider-clone",innerHTML:this.beginningClone}),i("slot",null),this.isInfinite&&this.slideCount>1&&i("div",{class:"safety-slider-clone",innerHTML:this.endingClone})))}get root(){return e(this)}static get watchers(){return{activeSlide:["activeSlideChanged"]}}};w.style="safety-slider-window{display:block;position:relative;width:100%;height:100%;overflow:hidden}.safety-slider-track{height:100%;position:relative;z-index:0;display:flex;box-sizing:border-box;transition:transform var(--safety-slider-track-transition-duration) ease;transform:translateX(var(--safety-slider-track-offset))}.safety-slider-slide{min-width:var(--safety-slider-window-width)}";export{p as safety_slider,y as safety_slider_arrows,u as safety_slider_dots,w as safety_slider_window}